<% content_for :title, "Home" %>
<% content_for :page_title, "Projects" %>

<div class="container my-3 overflow-x">
    <table class="table">
        <thead>
            <tr class="pl-3"> 
                <th scope="col">Project Name</th>
                <th scope="col">Project Detail</th>
                <% if policy(:project).edit? %>
                <th scope="col">Assign Developer</th>
                <th scope="col">Working Developer</th>
                <th scope="col">Edit</th>
                <% end %>
                <% if policy(:project).destroy? %>
                <th scope="col">Delete</th>
                <% end %>
            </tr>
        </thead>
        <tbody>
            <% @projects.each do |p| %>
            <tr>
                <% if p != nil %>
                <td><%= p.name %></td>
                <td><%= link_to "See Detail", project_path(p) , class: "btn"%></td>
                <% if policy(:project).edit? %>
                <td><%= link_to "Assign developer", project_developers_path(p), class: "btn"%></td>
                <td><%= link_to "Working developer", project_developerprojects_path(p), class: "btn" %></td>
                <td><%= link_to "Edit", edit_project_path(p), class: "btn btn-secondary" %></td>
                <% end %>
                <% if policy(:project).destroy? %>
                <td><%= link_to "Delete", project_path(p) , method: :delete, class: "btn btn-danger" %></td>
                <% end %>

                <% else %>
                <td colspan="3"> No Found Any Project </td>
                <% end %>
            </tr>
            <% end %>
        </tbody>
    </table>
</div>

 